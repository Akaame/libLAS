
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Georeferencing LAS files with LAS 1.4 &#8212; liblas.org</title>
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="LAS Utility Applications" href="../utilities/index.html" />
    <link rel="prev" title="libLAS RFC 2: SpatialReference Overhaul" href="rfc/rfc_2_spatialreference.html" />

 

  </head><body>

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/liblaslogo.png" alt="libLAS banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../docs.html" title="Docs">Docs</a> |
      <a href="https://github.com/libLAS/libLAS/issues/" title="Bugs">github</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download</a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../utilities/index.html" title="LAS Utility Applications"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="rfc/rfc_2_spatialreference.html" title="libLAS RFC 2: SpatialReference Overhaul"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../docs.html">Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Development</a> &#187;</li> 
      </ul>
    </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="georeferencing-las-files-with-las-1-4">
<span id="srs-wkt"></span><h1>Georeferencing LAS files with LAS 1.4<a class="headerlink" href="#georeferencing-las-files-with-las-1-4" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>Howard Butler</p>
</dd>
<dt class="field-even">Contact</dt>
<dd class="field-even"><p>hobu.inc at gmail dot com</p>
</dd>
<dt class="field-odd">Date</dt>
<dd class="field-odd"><p>2/28/2011</p>
</dd>
</dl>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>This document proposes how to handle describing spatial reference systems
in <a class="reference external" href="http://www.asprs.org/society/committees/standards/lidar_exchange_format.html">ASPRS LAS</a> 1.4. LAS 1.4 prescribes that software developers add and
prefer to use OGC WKT coordinate system description in the form of VLR
records in LAS files.  Softwares can choose to continue to write GeoTIFF keys
to support older applications, but they should prefer the OGC WKT if it is
found in the file.</p>
</div>
<div class="section" id="rationale">
<h2>Rationale<a class="headerlink" href="#rationale" title="Permalink to this headline">¶</a></h2>
<p>LAS 1.3 and below have used <a class="reference external" href="http://trac.osgeo.org/geotiff/">GeoTIFF</a> keys as described by the <a class="reference external" href="ftp://ftp.remotesensing.org/pub/geotiff/spec/geotiff.rtf">GeoTIFF
specification</a>, but use of the GeoTIFF keys within LAS has a number of
deficiencies:</p>
<ul class="simple">
<li><p>GeoTIFF is typically tied to the <a class="reference external" href="http://www.epsg-registry.org/">EPSG database</a> and does not provide
simple mechanisms for extended definitions.</p></li>
<li><p>Only a few softwares provide support for working with GeoTIFF keys directly.</p></li>
<li><p>The GeoTIFF specification has no organization backing its continued
development.</p></li>
<li><p>GeoTIFF does not offer a mechanism to represent transformations between
datums, while OGC WKT offers the TOWGS84[] mechanism</p></li>
<li><p>GeoTIFF does not offer the possibility of fitted coordinate systems.</p></li>
</ul>
</div>
<div class="section" id="wkt">
<h2>WKT<a class="headerlink" href="#wkt" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://www.opengeospatial.org/standards/ct">OpenGIS Coordinate Transformation Service Implementation Specification</a>
provides the “Well-known Text Representation of Spatial Reference Systems”
(WKT) language in section seven. WKT is much more expressive than GeoTIFF keys,
has an organization providing institutional heft and progress behind it, and a
number of open source and commercial softwares are available to support
parsing and interpreting WKT output.</p>
<p>There are a few dialects of WKT of which to be aware. The most common dialect
is the “ESRI WKT” dialect, which does not include TOWGS84 and authority nodes,
but there are others including “GDAL”, “CSMap”, “Oracle 9”, “Oracle 10”, and
“GeoTools.” While the basic form of WKT in these different dialects (other
than ESRI) is the same, the names used for different items, such as
<code class="docutils literal notranslate"><span class="pre">PARAMETER</span></code>, can often be spelled differently. It should be assumed that all
WKT provided in LAS files should be of a dialect that is not the “ESRI WKT”
dialect, which lacks some important features – notably TOWGS84 and AUTHORITY
nodes.</p>
</div>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>WKT can be specified in two optional Variable Length Record (VLR) entries with the
<code class="docutils literal notranslate"><span class="pre">LASF_Projection</span></code> User ID. The <a class="reference internal" href="#math-transform-wkt">Math Transform WKT</a> can be used to apply
transformations to the <a class="reference internal" href="#coordinate-system-wkt">Coordinate System WKT</a>.</p>
<div class="section" id="math-transform-wkt">
<h3>Math Transform WKT<a class="headerlink" href="#math-transform-wkt" title="Permalink to this headline">¶</a></h3>
<p>Math Transform WKT (section 7.1 of the <a class="reference external" href="http://www.opengeospatial.org/standards/ct">OGC Coordinate Transform Specification</a>)
can also be specified to apply to a <code class="docutils literal notranslate"><span class="pre">FITTED_CS</span></code>-style coordinate system.</p>
<p>OGC Math Transform WKT strings shall be provided in a VLR with the
following attributes:</p>
<ul class="simple">
<li><p>User ID: LASF_Projection</p></li>
<li><p>Record ID: 2111</p></li>
</ul>
<p>The following conditions should also apply:</p>
<ul class="simple">
<li><p>Because VLRs can only be 65536 bytes size, an OGC Math Transform WKT
string in a VLR data block is functionally limited to 64K in size.</p></li>
<li><p>The OGC Math Transform WKT VLR data shall be a null-terminated string.</p></li>
<li><p>The OGC Math Transform WKT VLR data shall be considered UTF-8.</p></li>
<li><p>The OGC Math Transform WKT VLR data shall be considered <code class="docutils literal notranslate"><span class="pre">C</span></code>
locale-based, and no localization of the numeric strings within the WKT
should be performed.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Math Transform WKT’s widespread use is not expected, but it is provided
for completeness and flexibility.</p>
</div>
</div>
<div class="section" id="coordinate-system-wkt">
<h3>Coordinate System WKT<a class="headerlink" href="#coordinate-system-wkt" title="Permalink to this headline">¶</a></h3>
<p>OGC Coordinate System WKT strings shall be provided in a VLR with the
following attributes:</p>
<ul class="simple">
<li><p>User ID: LASF_Projection</p></li>
<li><p>Record ID: 2112</p></li>
</ul>
<p>The following conditions should also apply:</p>
<ul class="simple">
<li><p>Because VLRs can only be 65536 bytes size, an OGC Coordinate System WKT
string in a VLR data block is functionally limited to 64K in size.</p></li>
<li><p>The OGC Coordinate System WKT VLR data shall be a null-terminated string.</p></li>
<li><p>The OGC Coordinate System WKT VLR data shall be considered UTF-8.</p></li>
<li><p>The OGC Coordinate System WKT VLR data shall be considered <code class="docutils literal notranslate"><span class="pre">C</span></code>
locale-based, and no localization of the numeric strings within the WKT
should be performed.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Though not specifically mentioned in previous LAS specifications,
coordinate system information (in GeoTIFF or WKT) applies to the final
coordinate data that are produced by transforming the raw coordinates by
the scale and offset specified in the header for the given dimension.</p>
</div>
</div>
</div>
<div class="section" id="transition">
<h2>Transition<a class="headerlink" href="#transition" title="Permalink to this headline">¶</a></h2>
<p>Older softwares may want to continue to use GeoTIFF keys, and it is not
desirable to have an abrupt discontinuity in the description of coordinate
systems for LAS data. Additionally, while many softwares may not need the
features of OGC WKT, its usage represents the strongest case for
interoperability with other software – especially software in the GIS and CAD
domains that take advantage of the OGC WKT specification.</p>
<p>Softwares that currently write GeoTIFF VLR records into LAS files can continue
to do so in LAS 1.4. It is acceptable to write <em>only</em> GeoTIFF VLR records into
an LAS file, while softwares that choose to write OGC WKT VLRs must also
write GeoTIFF VLRs to promote backward compatibility. If a file is found to
have both OGC WKT and GeoTIFF VLRs, the OGC WKT description, which is more
expressive, should be preferred if possible.</p>
</div>
<div class="section" id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<p>The ASPRS LAS specification attempts to offload specification of coordinate
system description and transformation by standing on the shoulders of other
specifications in the ecosystem. To that end, there are options for both
software and support for an LAS developer to take advantage of. Those below
are provided for information purposes only, and are not expected to be
canonical. Use your favorite search engine for more details.</p>
<div class="section" id="software">
<h3>Software<a class="headerlink" href="#software" title="Permalink to this headline">¶</a></h3>
<p>As mentioned previously, a number of open source and commercial softwares are
available to help an implementor of ASPRS LAS utilize Coordinate System and
Math Transform WKT in their software.</p>
<p>Some common open source softwares include:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.gdal.org">GDAL</a>’s <a class="reference external" href="http://www.gdal.org/ogr/osr_tutorial.html">OSR</a></p></li>
<li><p><a class="reference external" href="http://trac.osgeo.org/csmap/">CS-Map</a></p></li>
<li><p><a class="reference external" href="http://www.geotools.org/">GeoTools</a>/<a class="reference external" href="http://www.geotoolkit.org/">Geotoolkit</a></p></li>
</ul>
<p>Some commercial options include:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.bluemarblegeo.com/">Blue Marble®</a></p></li>
<li><p><a class="reference external" href="http://www.arcgis.com">ArcGIS®</a></p></li>
</ul>
</div>
<div class="section" id="questions">
<h3>Questions<a class="headerlink" href="#questions" title="Permalink to this headline">¶</a></h3>
<p>If you have questions about how to produce WKT, please participate on
the <a class="reference external" href="http://trac.osgeo.org/metacrs/">MetaCRS</a> mailing list. Examples of WKT may also be found on the
<a class="reference external" href="http://spatialreference.org">http://spatialreference.org</a> website.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../docs.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../start.html">Getting Started with libLAS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osgeo4w.html">Windows Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compilation.html">Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Development</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#topics">Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#authors">Authors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">LAS Utility Applications</a></li>
<li class="toctree-l1"><a class="reference external" href="http://liblas.org/doxygen/annotated.html">C++ Class API</a></li>
<li class="toctree-l1"><a class="reference external" href="http://liblas.org/doxygen/liblas_8h.html">C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lastools.html">libLAS’ Relationship to LAStools</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/development/wkt.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../utilities/index.html" title="LAS Utility Applications"
             >next</a> |</li>
        <li class="right" >
          <a href="rfc/rfc_2_spatialreference.html" title="libLAS RFC 2: SpatialReference Overhaul"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../docs.html">Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Development</a> &#187;</li> 
      </ul>
    </div>
<div class="footer">
        &copy; <a href="../copyright.html">Copyright</a> 2020, Howard Butler, Mateusz Loskot and others.
      Website was last updated on May 08, 2020 
      and created with <a href="http://sphinx.pocoo.org/">Sphinx</a>.


</div>


  </body>
</html>